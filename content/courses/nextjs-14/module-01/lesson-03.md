# Setup del entorno de desarrollo

## Script de Video - Duración: 12 minutos

### Timestamps

- **0:00** - Introducción y requisitos previos
- **1:30** - Creando el proyecto con create-next-app
- **4:00** - Explorando la estructura inicial
- **6:30** - Configuración de TypeScript y ESLint
- **8:30** - Configurando VS Code para Next.js
- **10:30** - Primer run y verificación
- **11:30** - Resumen y próximos pasos

---

## 0:00 - Introducción y requisitos previos

```
[PANTALLA: Terminal vacía con fondo oscuro]
```

**Narración:**

"Bienvenido a la lección de setup. Antes de comenzar, asegúrate de tener instalado:

- Node.js versión 18.17 o superior
- Un editor de código, recomiendo VS Code
- Git para control de versiones

Puedes verificar tu versión de Node con:"

```bash
node --version
# v20.10.0 o superior
```

---

## 1:30 - Creando el proyecto con create-next-app

```
[PANTALLA: Terminal]
```

**Narración:**

"El comando oficial para crear un proyecto Next.js es `create-next-app`. Vamos a ejecutarlo con npx:"

```bash
npx create-next-app@latest my-nextjs-app
```

```
[PANTALLA: Mostrar las preguntas interactivas]
```

**Narración:**

"El CLI nos hace varias preguntas. Voy a explicar cada una:"

```
✔ Would you like to use TypeScript? … Yes
✔ Would you like to use ESLint? … Yes
✔ Would you like to use Tailwind CSS? … Yes
✔ Would you like to use `src/` directory? … Yes
✔ Would you like to use App Router? (recommended) … Yes
✔ Would you like to customize the default import alias (@/*)? … No
```

**Explicación de cada opción:**

| Pregunta | Recomendación | Razón |
|----------|---------------|-------|
| TypeScript | ✅ Yes | Type safety, mejor DX, autocompletado |
| ESLint | ✅ Yes | Catch errores temprano, mejores prácticas |
| Tailwind | ✅ Yes | Styling rápido, purged CSS |
| src/ directory | ✅ Yes | Separación clara entre config y código |
| App Router | ✅ Yes | Es el futuro de Next.js |
| Import alias | Default (@/*) | Simplifica imports |

---

## 4:00 - Explorando la estructura inicial

```
[PANTALLA: VS Code con árbol de archivos]
```

**Narración:**

"Una vez creado, abrimos el proyecto en VS Code:"

```bash
cd my-nextjs-app
code .
```

"La estructura que vemos es:"

```
my-nextjs-app/
├── src/
│   └── app/
│       ├── favicon.ico
│       ├── globals.css
│       ├── layout.tsx      ← Layout raíz
│       └── page.tsx        ← Página principal
├── public/
│   ├── next.svg
│   └── vercel.svg
├── .eslintrc.json
├── .gitignore
├── next.config.js
├── package.json
├── postcss.config.js
├── tailwind.config.ts
└── tsconfig.json
```

**Explicación de archivos clave:**

```tsx
// src/app/layout.tsx - Layout raíz obligatorio
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import './globals.css'

const inter = Inter({ subsets: ['latin'] })

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body className={inter.className}>{children}</body>
    </html>
  )
}
```

**Narración:**

"El layout raíz define la estructura HTML base. Nota que:
- Importamos una fuente de Google con `next/font`
- Definimos metadata para SEO
- El componente recibe `children` y los envuelve en `<html>` y `<body>`"

```tsx
// src/app/page.tsx - Página principal (/)
export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-between p-24">
      <h1>Welcome to Next.js 14</h1>
    </main>
  )
}
```

---

## 6:30 - Configuración de TypeScript y ESLint

```
[PANTALLA: tsconfig.json]
```

**Narración:**

"Veamos la configuración de TypeScript:"

```json
// tsconfig.json
{
  "compilerOptions": {
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

"Las opciones importantes son:
- `strict: true` - Activamos todas las verificaciones estrictas
- `paths` - El alias `@/*` apunta a `./src/*`
- `plugins` - El plugin de Next.js proporciona type-checking adicional"

```
[PANTALLA: .eslintrc.json]
```

```json
// .eslintrc.json
{
  "extends": "next/core-web-vitals"
}
```

"ESLint viene preconfigurado con reglas específicas para Next.js, incluyendo verificaciones de Core Web Vitals."

**Agregando reglas adicionales recomendadas:**

```json
// .eslintrc.json mejorado
{
  "extends": [
    "next/core-web-vitals",
    "next/typescript"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "prefer-const": "error"
  }
}
```

---

## 8:30 - Configurando VS Code para Next.js

```
[PANTALLA: VS Code settings]
```

**Narración:**

"Para la mejor experiencia de desarrollo, instala estas extensiones:"

1. **ESLint** - Linting en tiempo real
2. **Tailwind CSS IntelliSense** - Autocompletado de clases
3. **Prettier** - Formateo automático
4. **ES7+ React/Redux/React-Native snippets** - Snippets útiles

"Crea un archivo de configuración para el workspace:"

```json
// .vscode/settings.json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "tailwindCSS.experimental.classRegex": [
    ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"]
  ],
  "typescript.tsdk": "node_modules/typescript/lib",
  "typescript.enablePromptUseWorkspaceTsdk": true
}
```

"Y configuración de Prettier:"

```json
// .prettierrc
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "plugins": ["prettier-plugin-tailwindcss"]
}
```

```bash
npm install -D prettier prettier-plugin-tailwindcss
```

---

## 10:30 - Primer run y verificación

```
[PANTALLA: Terminal dividida - npm run dev + navegador]
```

**Narración:**

"Es hora de ejecutar la aplicación:"

```bash
npm run dev
```

"Deberías ver:"

```
▲ Next.js 14.1.0
- Local:        http://localhost:3000
- Environments: .env.local

✓ Ready in 2.3s
```

```
[PANTALLA: Navegador mostrando localhost:3000]
```

"Si ves la página de bienvenida de Next.js, todo está funcionando correctamente."

**Verificando el build de producción:**

```bash
npm run build
```

```
Route (app)                              Size     First Load JS
┌ ○ /                                    5.15 kB        89.2 kB
└ ○ /_not-found                          871 B          85.1 kB

○  (Static)  prerendered as static content
```

"Este output muestra:
- El tamaño de cada ruta
- Si es estática (○) o dinámica (λ)
- El First Load JS (JavaScript necesario para interactividad)"

---

## 11:30 - Resumen y próximos pasos

```
[PANTALLA: Slide con checklist]
```

**Narración:**

"Hemos configurado:

✅ Proyecto Next.js 14 con App Router
✅ TypeScript en modo estricto
✅ ESLint con reglas de Next.js
✅ Tailwind CSS
✅ VS Code optimizado
✅ Prettier para formateo

En la próxima lección, crearemos nuestra primera página y entenderemos cómo funcionan las rutas en App Router."

---

## Código mostrado en pantalla

### package.json resultante

```json
{
  "name": "my-nextjs-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "next": "14.1.0",
    "react": "^18",
    "react-dom": "^18"
  },
  "devDependencies": {
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "autoprefixer": "^10.0.1",
    "eslint": "^8",
    "eslint-config-next": "14.1.0",
    "postcss": "^8",
    "prettier": "^3.2.0",
    "prettier-plugin-tailwindcss": "^0.5.0",
    "tailwindcss": "^3.3.0",
    "typescript": "^5"
  }
}
```

### Scripts útiles a agregar

```json
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "type-check": "tsc --noEmit",
    "format": "prettier --write ."
  }
}
```

---

## Troubleshooting común

| Error | Solución |
|-------|----------|
| `EACCES permission denied` | Usa `sudo` o arregla permisos de npm |
| Puerto 3000 en uso | `npm run dev -- -p 3001` |
| Tailwind no funciona | Verifica que `globals.css` importa las directivas |
| TypeScript errors en fresh project | Reinicia VS Code o el TypeScript server |

## Recursos

- [create-next-app docs](https://nextjs.org/docs/app/api-reference/create-next-app)
- [VS Code + Next.js](https://nextjs.org/docs/getting-started/installation#ide-setup)
